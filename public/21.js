(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{112:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n);function s(e,t,a,n,r,s,i){try{var o=e[s](i),l=o.value}catch(e){return void a(e)}o.done?t(l):Promise.resolve(l).then(n,r)}var i,o,l={name:"masterdata.edit",data:function(){return{imgurl:"storage/default/icon_admin.jpg",foto:""}},mixins:[a(27).a],methods:{save:(i=r.a.mark((function e(){var t,a,n=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,t="/"+(t=(t=window.location.pathname).split("/"))[1],(a=new FormData).append("name",this.name),a.append("foto",this.foto),a.append("kelamin",this.kelamin),a.append("username",this.username),a.append("kelas",JSON.stringify(this.kelas_student)),e.next=12,this.axios.post(t,a,this.config).then((function(e){console.log(e),n.setSnakbar({status:!0,pesan:e.data.message,color:"success"}),n.$router.push(t)})).catch((function(e){400==e.response.status?n.setSnakbar({color:"red",status:!0,pesan:e.response.data.message}):n.setSnakbar({status:!0,color:"red",pesan:"Terjadi Kesalahan"}),console.log(e.response)}));case 12:this.loading=!1;case 13:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(a,n){var r=i.apply(e,t);function o(e){s(r,a,n,o,l,"next",e)}function l(e){s(r,a,n,o,l,"throw",e)}o(void 0)}))},function(){return o.apply(this,arguments)}),eventChange:function(e){var t=this,a=e.target.files;this.foto=a[0];var n=new FileReader;n.addEventListener("load",(function(){t.imgurl=n.result})),n.readAsDataURL(this.foto)}},created:function(){this.getKelas(),this.imgurl=this.urlDefault+this.imgurl}},c=a(1),u=Object(c.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-container",[a("BtnJudul",{attrs:{text:"Create Students"}}),e._v(" "),a("v-card",{staticClass:"border-edit",attrs:{tile:""}},[a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4","order-sm":"last","order-md":"first"}},[a("v-img",{staticStyle:{cursor:"pointer"},attrs:{src:e.imgurl,height:"300px"},on:{click:function(t){return e.$refs.foto_profile.click()}}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-form",{ref:"form",attrs:{"lazy-validation":e.lazy},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("input",{ref:"foto_profile",staticStyle:{display:"none"},attrs:{type:"file",id:"foto_profile",accept:"image/*"},on:{change:e.eventChange}}),e._v(" "),a("label",{attrs:{for:"",align:"left"}},[e._v("New Students")]),e._v(" "),a("v-text-field",{attrs:{rules:e.nameRules,label:"Username",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),a("v-text-field",{attrs:{rules:e.nameRules,label:"Name",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("v-select",{attrs:{items:e.kelamins,rules:[function(e){return!!e||"Tidak Boleh Kosong"}],label:"Kelamin",required:""},model:{value:e.kelamin,callback:function(t){e.kelamin=t},expression:"kelamin"}}),e._v(" "),a("v-select",{attrs:{items:e.kelas,attach:"",chips:"",label:"Class","item-text":"name","item-value":"id",multiple:""},model:{value:e.kelas_student,callback:function(t){e.kelas_student=t},expression:"kelas_student"}}),e._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12",align:"right"}},[a("v-btn",{attrs:{disabled:!e.valid,color:"success",tile:"",loading:e.loading},on:{click:function(t){return e.save()}}},[e._v("\n                                    Save\n                                    ")])],1)],1)],1)],1)],1)],1)],1),e._v(" "),a("v-card-actions",{})],1)],1)],1)}),[],!1,null,"073fb9ee",null);t.default=u.exports},27:function(e,t,a){"use strict";var n=a(2),r=a(3);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}t.a={data:function(){return{valid:!0,lazy:!1,loading:!1,select:"",items:[],name:"",username:"",nameRules:[function(e){return!!e||"Tidak Boleh Kosong"}],kelamin:"",kelamins:["Pria","Wanita"],kelas:[],kelas_student:""}},methods:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},Object(n.b)({setSnakbar:"snakbar/setSnakbar"}),{getKelas:function(){var e=this;this.axios.get("students/create",this.config).then((function(t){e.kelas=t.data.kelas,console.log(e.kelas)})).catch((function(e){return console.log(e)}))}}),mixins:[r.a],created:function(){}}}}]);
//# sourceMappingURL=21.js.map